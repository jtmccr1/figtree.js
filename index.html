<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FigTree Demo</title>
    <script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
    <style>
        .external-node {
            fill: rgb(238, 77, 77);
            stroke: rgb(255, 255, 255);
            stroke-width: 1;
            color: rgb(238, 77, 77);
        }

        .internal-node {
            fill: rgb(76, 179, 230);
            stroke: rgb(255, 255, 255);
            stroke-width: 1;
            color: rgb(76, 179, 230);
        }

        .node-label {
            font-family: "helvetica-neue",  "helvetica",  "sans-serif";
            font-size: 14pt;
            font-weight: 300;
        }

        .tip-point {
            fill: rgb(238, 77, 77);
            stroke: rgb(255, 255, 255);
            stroke-width: 1;
        }

        .trend-line {
            stroke: rgb(0,0,0);
            stroke-width: 2;

        }

        .axis text {
            font-family: "helvetica-neue",  "helvetica",  "sans-serif";
            font-size: 12pt;
            font-weight: 300;
        }

        .axis .axis-label {
            font-weight: bold;
        }

    </style>
</head>

<body>

<svg id="tree-1-svg"  width="600" height="500"></svg>
<svg id="rrt-1-svg"  width="600" height="500"></svg>

<script type="module">
    import { Tree } from "./src/tree.js";
    import { drawTree, hilightBranch, hilightInternalNode, reRootOnBranch, rotateAtNode } from "./src/figtree.js";
    import { drawPlot } from "./src/roottotipplot.js";

    // const newickString =
    //     '((((((virus1:0.1 ,virus2:0.12):0.08,(virus3:0.011,virus4:0.0087):0.15):0.03,virus5:0.21):0.2,(virus6:0.45,virus7:0.4):0.02):0.1,virus8:0.4):0.1,(virus9:0.04,virus10:0.03):0.6);'
    //
    // const tree = Tree.parseNewick(newickString);
    //
    // drawTree(document.getElementById('tree-1-svg'), tree, margins, hilightBranch, hilightInternalNode, reRootOnBranch, rotateAtNode);

    const timeTreeString =
        '((((virusA_1975:20.0,virusB_1965:10.0):10.0,virusC_1985:40.0):15.0,(virusD_1970:35.0,virusE_1955:20.0):5.0):25.0,(virusF_2000:55.0,virusG_1960:15.0):40.0);';

    const tree = Tree.parseNewick(timeTreeString, "_");

    drawTree(document.getElementById('tree-1-svg'), tree, { top: 10, bottom: 10, left: 10, right: 150}, hilightBranch, hilightInternalNode, reRootOnBranch, rotateAtNode);

    drawPlot(document.getElementById('rrt-1-svg'), tree, { top: 10, bottom: 40, left: 40, right: 100});

</script>

</body>

</html>